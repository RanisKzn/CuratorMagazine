@using CuratorMagazineBlazorApp.Shared.ModalWindows
@using CuratorMagazineWebAPI.Models.Entities.Domains
<div class="row">
    <div class="col-1">
        @if (CurrentUser.ProfilePhoto == null)
        {
            <img class="rounded img-fluid" src="../img/no-img.jpg" alt="">
        }
        else
        {

        }
    </div>
    <div class="col-8">
        <h5>@CurrentUser.Name</h5>
        <p>@CurrentUser.Email</p>
    </div>
    <div class="col-3 text-end">
        <button type="button" class="btn btn-secondary me-2" data-bs-toggle="modal" data-bs-target="#changeModal" @onclick="ChangeVisible">Изменить</button>
        <button type="button" class="btn btn-secondary" @onclick="(() => DeleteVDEW.InvokeAsync(CurrentUser))">Удалить</button>
    </div>
</div>
@if (IsVisibleModalChangeVdewWindow)
{
    <ModalChangeVDEWWindow></ModalChangeVDEWWindow>
}

@code {
    [Parameter]
    public User? CurrentUser { get; set; }

    [Parameter] 
    public EventCallback<User> DeleteVDEW { get; set; }

    private bool IsVisibleModalChangeVdewWindow { get; set; }

    public void ChangeVisible()
    {
        if (IsVisibleModalChangeVdewWindow)
        {
            IsVisibleModalChangeVdewWindow = false;
        }
        else
        {
            IsVisibleModalChangeVdewWindow = true;
        }
    }

    void SaveVDEW(User user)
    {

    }
}
